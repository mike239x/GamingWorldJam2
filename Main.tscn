[gd_scene load_steps=15 format=3 uid="uid://bscw8abwf51j7"]

[ext_resource type="Script" path="res://Main.gd" id="1_4mpnj"]
[ext_resource type="Shader" path="res://Dreamy.gdshader" id="1_8bwco"]
[ext_resource type="PackedScene" uid="uid://dxqnn6dlq0ij3" path="res://character/character.tscn" id="1_55dnx"]
[ext_resource type="PackedScene" uid="uid://cbuqoux7udsup" path="res://hud/hud.tscn" id="1_x6wqk"]
[ext_resource type="PackedScene" uid="uid://bpqu20ykmrprw" path="res://scene_transition.tscn" id="2_8gm5j"]
[ext_resource type="PackedScene" uid="uid://drs0x30iykvhd" path="res://dream_world.tscn" id="2_tvtq8"]
[ext_resource type="PackedScene" uid="uid://c0c4kylb8bb4p" path="res://forest/forest.tscn" id="5_ktbnl"]
[ext_resource type="PackedScene" uid="uid://dwr5mfv0pw2jk" path="res://enemies/elk/elk.tscn" id="6_t7n0r"]
[ext_resource type="PackedScene" uid="uid://bsqxxq2g2j8c2" path="res://enemies/shade/shade.tscn" id="8_xly1i"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_i7pv3"]
shader = ExtResource("1_8bwco")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ynwf6"]
shader = ExtResource("1_8bwco")

[sub_resource type="FastNoiseLite" id="FastNoiseLite_vj2q0"]
domain_warp_enabled = true

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_4tkcx"]
noise = SubResource("FastNoiseLite_vj2q0")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_xvaf3"]
shader = ExtResource("1_8bwco")

[node name="Main" type="Node2D"]
material = SubResource("ShaderMaterial_i7pv3")
script = ExtResource("1_4mpnj")

[node name="DreamWorld" parent="." instance=ExtResource("2_tvtq8")]

[node name="Forest" parent="." instance=ExtResource("5_ktbnl")]

[node name="Enemy" parent="Forest" instance=ExtResource("8_xly1i")]
position = Vector2(529, -238)

[node name="Elk" parent="Forest" instance=ExtResource("6_t7n0r")]
position = Vector2(318, -260)

[node name="Character" parent="." instance=ExtResource("1_55dnx")]
position = Vector2(164, -224)
max_speed = 200.0
metadata/_edit_group_ = true

[node name="Camera2D" type="Camera2D" parent="Character"]

[node name="purp" type="Sprite2D" parent="."]
visible = false
z_index = 4
material = SubResource("ShaderMaterial_ynwf6")
position = Vector2(186, -236)
scale = Vector2(5.46094, 3.57813)
texture = SubResource("NoiseTexture2D_4tkcx")

[node name="HollowPurple" type="CanvasLayer" parent="."]
visible = false

[node name="ColorRect" type="ColorRect" parent="HollowPurple"]
material = SubResource("ShaderMaterial_xvaf3")
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="HUD" parent="." node_paths=PackedStringArray("MC", "time_source") instance=ExtResource("1_x6wqk")]
MC = NodePath("../Character")
time_source = NodePath("../Forest")

[node name="SceneTransition" parent="." instance=ExtResource("2_8gm5j")]

[connection signal="sleep" from="Forest" to="." method="_on_real_world_sleep"]
[connection signal="shoot" from="Character" to="." method="_on_gun_shoot"]
